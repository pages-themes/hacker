<!-------------------------------------------------------------------------------->
<!-------------------------------------------------------------------------------->

<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/assets/css/style.css?v=4e466187f8c7aec736a8844fc4931d346df15ea7">     <!-- Archivo CSS O SCSS Jekyll -->
    <!-- <link rel="stylesheet" href="/assets/css/icon-style.css"> -->                                  <!-- Archivo CSS O SCSS del Buscador -->
    <script src="https://kit.fontawesome.com/41bcea2ae3.js" crossorigin="anonymous"></script>           <!-- Archivo Java para importar fuentes -->

  <!---------------------- Configuración de Colores ------------------------------->

    <meta name="theme-color" content="#151515">
    <meta name="msapplication-navbutton-color" content="#151515">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <!--------------------- Begin Jekyll SEO tag v2.8.0 ----------------------------->

   <title>F1r0x | Blog sobre Ciberseguridad.</title>
   <link rel="icon" href="/assets/images/logoweb.ico">
   <meta name="generator" content="Jekyll v3.9.2" />
   <meta property="og:title" content="F1r0x" />
   <meta property="og:locale" content="en_US" />
   <meta name="description" content="Blog sobre Ciberseguridad." />
   <meta property="og:description" content="Blog sobre Ciberseguridad." />
   <link rel="canonical" href="https://f1r0x.github.io/Web/burpsuite.html" />         <!-- ¡¡¡ Cambiar !!!  -->
   <meta property="og:url" content="https://f1r0x.github.io/Web/burpsuite.html" />    <!-- ¡¡¡ Cambiar !!!  -->
   <meta property="og:site_name" content="F1r0x" />
   <meta property="og:type" content="website" />
   <meta name="twitter:card" content="summary" />
   <meta property="twitter:title" content="F1r0x" />
   <script type="application/ld+json">
   {"@context":"https://schema.org","@type":"WebPage","description":"Blog sobre Ciberseguridad.","headline":"F1r0x","url":"https://f1r0x.github.io/portada.html"}</script>

</head>

<!--------------------------- Encabezado de la página ---------------------------------->

<header>
  <div class="container">
    <a id="a-title" href="/">
      <h5>F1r0x</h5>                                                                                                    <!-- Nombre del Autor -->                         
    </a>
    <h6></h6>                                                                                 <!-- Descripción de la Página-->

<!--------------------------------- Botón Github ---------------------------------------->    
    <section id="downloads">         
      <a href="https://github.com/F1r0x/f1r0x.github.io" class="btn btn-github"><span class="icon"></span>GitHub</a>    <!-- Contenido del botón Github -->
    </section>
  </div>
</header>

<!---------------------------------  Buscador  ------------------------------------------>

<!--
<body>
<div id="a-buscador" class="buscar">
  <input type="text" class="buscar_texto" placeholder="Escrive lo que buscas">
  <a href="" class="boton">
  <i class="icon-buscar"></i>
  </a>
</div>
</body>
-->

<!----------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------->
<!---------------------- Contenido del Cuerpo de la Página -------------------------------->  
<!------------------------------ Botones y Efectos  --------------------------------------->
<!----------------------------------------------------------------------------------------->

<div class="container">
  
<!----------------------------- Imagen Hack The Box -------------------------------------->   

<!--
  <section id="main_content">
    <p><a href="./hackthebox.html" style="text-decoration:none">
          <img src="https://user-images.githubusercontent.com/103068924/186534363-a36084e5-2626-4b25-976c-ab2d232462f5.gif" align="middle" />
       </a>
    </p>
  </section>
-->

<!--------------------------------  Letrero Animado  --------------------------------------->      
 
  <svg viewBox="0 0 1320 300">

    <!-- Símbolo -->
    <symbol id="s-text">
      <text text-anchor="middle"
            x="50%" y="50%" dy=".35em">
            Burpsuite   <!-- Palabra del Letrero-->
      </text>
    </symbol>  
  
    <!-- Añadir en función de las letras de la palabra -->
    <use xlink:href="#s-text" class="text"></use><!--1-->
    <use xlink:href="#s-text" class="text"></use><!--2-->  
    <use xlink:href="#s-text" class="text"></use><!--3-->
    <use xlink:href="#s-text" class="text"></use><!--4-->
    <use xlink:href="#s-text" class="text"></use><!--5-->
    <use xlink:href="#s-text" class="text"></use><!--6-->
    <use xlink:href="#s-text" class="text"></use><!--7-->
    <use xlink:href="#s-text" class="text"></use><!--8-->
    <use xlink:href="#s-text" class="text"></use><!--9-->
  </svg>

<!----------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------->
<!---------------------------- Contenido de la Página ------------------------------------->  
<!----------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------->

<ul>
  <li><a href="#item1" style="text-decoration:none">¿Qué es BurpSuite?</a></li>
  <li><a href="#item2" style="text-decoration:none">Herramientas Necesarias</a></li>
  <li><a href="#item3" style="text-decoration:none">Configuración de FoxyProxy</a></li>
  <li><a href="#item4" style="text-decoration:none">Actualizar BurpSuite</a></li>
  <li><a href="#item5" style="text-decoration:none">Configuración de BurpSuite</a></li>
  <li><a href="#item6" style="text-decoration:none">Como Interceptar peticiones básicas</a></li>
  <li><a href="#item7" style="text-decoration:none">Capturar o interceptar Respuesta a las peticiones con Burpsuite</a></li>
  <li><a href="#item8" style="text-decoration:none">Evitar Redirects con Burbpsuite</a></li>
  <li><a href="#item9" style="text-decoration:none">Ejemplo: Capturar, redirigir y evitar redirect</a></li>
</ul>


<p><a name="item1"></a></p>
<h1 id="qué-es-burpsuite">¿Qué es BurpSuite?</h1>

<p>Burp Suite, también conocida como <code class="language-plaintext highlighter-rouge">la navaja suiza del pentester</code>, es una herramienta multifunción para realizar auditorías de seguridad a aplicaciones Web.
Integra diferentes componentes de pentesting y funcionalidades para realizar las pruebas y permite combinar pruebas tanto automáticas como manuales. La herramienta
Burp Suite está desarrollada y mantenida por la empresa <code class="language-plaintext highlighter-rouge">PortSwigger</code>, y cuenta con dos versiones: Burp Free (gratuita) y Burp Professional (de pago). La versión gratuita 
se puede encontrar ya instalada en Kali Linux, la distribución de Linux diseñada para auditorías y seguridad informática.</p>

<p><code class="language-plaintext highlighter-rouge">Podeís Descargas BurpSuite en su págian Oficial</code> –&gt; <a href="https://portswigger.net/burp/communitydownload">Link</a></p>

<p>Para instalar BurpSuite directamente desde la terminal (para sistemas como Parrot o Kali):</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo apt install burpsuite
</code></pre></div></div>

<p><a name="item2"></a></p>
<h1 id="herramientas-necesarias">Herramientas Necesarias:</h1>

<p>Para poder trabajar con BurpSuite vamos a necesitar otras dos herramientas imprescindibles, primero necesitaremos un navegador (preferentemente firefox) y luego 
también necesitaremos la aplicación o extensión llamada <code class="language-plaintext highlighter-rouge">Foxy Proxy</code>. Esta extensión también existe para Chrome.</p>

<p><code class="language-plaintext highlighter-rouge">Descargas Foxy Proxy</code> –&gt; <a href="https://addons.mozilla.org/es/firefox/addon/foxyproxy-standard/">Link</a></p>

<p>La dinámica será la siguiente, BurpSuite intercepta los datos del Navegador utilizando Foxy Proxy, de esta forma podremos trabajar con estos paquetes 
interceptados.</p>

<p>Para ello tendremos que configurar BurpSuite y FoxyProxy para establecer entre ellos una comunicación.</p>

<p><a name="item3"></a></p>
<h1 id="configuración-de-foxyproxy">Configuración de FoxyProxy:</h1>

<p>Una vez instalado FoxyProxy en el navegador, simplemente pulsamos sobre él y luego pulsamos el botón <code class="language-plaintext highlighter-rouge">Options</code>.</p>

<p><img src="https://user-images.githubusercontent.com/103068924/180094673-c0c8a26e-e183-4195-845d-de45fb2a6565.png" alt="Captura de pantalla 2022-07-21 004025" /></p>

<p>Tras abrirse el programa, en la parte izquierda, nos dirigimos a la opción <code class="language-plaintext highlighter-rouge">Add</code>.</p>

<p><img src="https://user-images.githubusercontent.com/103068924/180094303-6b18acaa-9fa0-4cba-9949-effbb85b68f9.png" alt="Captura de pantalla 2022-07-21 003734" /></p>

<p>De Título podemos poner <code class="language-plaintext highlighter-rouge">BurpSuite</code> para poder identificarlo, el color que deseamos (En mi caso verde, que es más vistoso) y ahora vamos a lo importante.</p>

<p>Para poder establecer conexión con BurpSuite vamos a usar un Proxy de tipo <code class="language-plaintext highlighter-rouge">HTTP</code> y una dirección Ip <code class="language-plaintext highlighter-rouge">127.0.0.1</code> (Esta dirección Ip es nuestro localhost) por
el puerto 8080.</p>

<p><img class="img-burpsuite1" src="https://user-images.githubusercontent.com/103068924/180094382-b78d1d9d-9db3-410d-9591-a99c8e266a43.png" alt="Captura de pantalla 2022-07-21 003827" /></p>

<p><code class="language-plaintext highlighter-rouge">Nota:</code> En caso de tener problemas a la hora de capturar el tráfico, tener en cuenta de que no estáis usando el puerto 8080 para otros procesos. En tal caso
emplear un puerto distinto o matar el proceso.</p>

<p>Con esto ya tendríamos FoxyProxy configurado, pulsamos guardar <code class="language-plaintext highlighter-rouge">save</code> y veremos tras guardas como ya nos aparece nuestro nuevo Proxy en el icono de la extensión
si pulsamos encima con el ratón.</p>

<p><img src="https://user-images.githubusercontent.com/103068924/180094697-283b86e6-2f86-4d80-8653-b0e034ca1eeb.png" alt="Captura de pantalla 2022-07-21 003510" /></p>

<p><a name="item4"></a></p>
<h1 id="actualizar-burpsuite">Actualizar BurpSuite:</h1>

<p>Es recomendable borrar previamente la versión anterior de BurpSuite e instalar la nueva versión en su directorio <code class="language-plaintext highlighter-rouge">/opt/BurpSuiteCommunity/</code>.
Descargar el archivo <code class="language-plaintext highlighter-rouge">.sh</code> desde su página principal. Luego lo ejecutamos como administrador:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sudo chmod +x BurpSuite.sh
</code></pre></div></div>

<p>Luego con el siguiente comando procedemos a su instalación:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>./BurpSuite.sh
</code></pre></div></div>

<p>Una vez instalado para ejecutarlo, escribimos <code class="language-plaintext highlighter-rouge">BurpSuiteCommunity</code>.</p>

<p><a name="item5"></a></p>
<h1 id="configuración-de-burpsuite">Configuración de BurpSuite:</h1>

<p>Para configurar el proxy debemos acceder a la pestaña <code class="language-plaintext highlighter-rouge">Proxy</code> -&gt; <code class="language-plaintext highlighter-rouge">Options</code> y nos aseguramos que la opción <code class="language-plaintext highlighter-rouge">Running</code> esté marcada. Luego introducimos en la columna 
<code class="language-plaintext highlighter-rouge">Interface</code> los mismos datos con los que hemos configurado FoxyProxy, que en nuestro caso es nuestro localhost por el puerto 8080 (127.0.0.1:8080).</p>

<p><img src="https://user-images.githubusercontent.com/103068924/180095402-d96a38bc-934f-41fa-bb5e-183fc1e1ef95.png" alt="Captura de pantalla 2022-07-21 004623" /></p>

<p>Ya tendríamos configurado BurpSuite y listo para su funcionamiento.</p>

<p><a name="item6"></a></p>
<h1 id="como-interceptar-peticiones-básicas">Como Interceptar peticiones básicas.</h1>

<p>Para interceptar una petición con BurpSuite, una vez tenemos el FoxyProxy configurado, preparamos la petición que queramos capturar, y activamos FoxyProxy.
Luego desde BurpSuite nos dirigimos al apartado <code class="language-plaintext highlighter-rouge">Proxy</code> y activamos la casilla en modo <code class="language-plaintext highlighter-rouge">Intercept is on</code>.</p>

<p><img src="https://user-images.githubusercontent.com/103068924/180096836-94b40517-d704-4bb0-a2ab-163bb1641826.png" alt="Captura de pantalla 2022-07-21 005816" /></p>

<p><img class="img-burpsuite2" src="https://user-images.githubusercontent.com/103068924/180096903-3fb03265-3b28-4e9e-8520-9afb98b6d99e.png" alt="Captura de pantalla 2022-07-21 005926" /></p>

<p>Finalmente, realizamos la petición que queríamos capturar en el navegador y veremos como BupSuite la interceptará.</p>

<p><a name="item7"></a></p>
<h1 id="capturar-o-interceptar-respuesta-a-las-peticiones-con-burpsuite">Capturar o interceptar Respuesta a las peticiones con Burpsuite</h1>

<p>Como hemos visto anteriormente, podemos capturar las peticiones de una página web con Burpsuite, pero, y si queremos enviar nuestra petición y capturar la
respuesta por parte del servidor? Esto puede ser muy útil a la hora de módificar las peticiones capturadas y ver que respuestas nos reporta el servidor.</p>

<p>Para activar está funcion y poder capturar esas peticiones debemos dirigirnos a <code class="language-plaintext highlighter-rouge">Proxy</code>&gt;<code class="language-plaintext highlighter-rouge">Options</code>&gt;<code class="language-plaintext highlighter-rouge">Intercep Server Responses</code>  y marcar la casilla 
superior que dice <code class="language-plaintext highlighter-rouge">Intercep responses based on the following rules:</code> y desmarcamos la opcion marcada que dice <code class="language-plaintext highlighter-rouge">Content type header</code>.</p>

<p>Ahora simplemente capturamos una petición, como hemos visto anteriomente, pulsamos <code class="language-plaintext highlighter-rouge">Fordwar</code> y nos devolverá la respuesta de nuestra petición.</p>

<p><a name="item8"></a></p>
<h1 id="evitar-redirects-con-burbpsuite">Evitar Redirects con Burbpsuite</h1>

<p>En oscasiones nos encontraremos páginas con vínculos o redirecciones a otras páginas (código de estado 302), esto suele pasar cuando, en vez de utilizar
 cookies de sesion, nos encontramos con que la página se gestiona a través de redirects.</p>

<p>Con está tecnica evitaremos esas nuevas direcciones, forzando al sistema a devolver un código de estado 200 (código de estado exitoso).En ocasiones al 
aplicar este cambio, podremos ver partes de la página web que antes no eran posibles.</p>

<p>Para aplicar este ajuste, en primer lugar debemos de tener el <code class="language-plaintext highlighter-rouge">Foxyproxy</code> enlazado con <code class="language-plaintext highlighter-rouge">Burpsuite</code>. Una vez establecido el túner a través del proxy, 
capturamos la petición de la página deseada con el <code class="language-plaintext highlighter-rouge">Intercept</code> como hemos visto anteriormente.</p>

<p>Realizamos un <code class="language-plaintext highlighter-rouge">Forward</code> y veremos la respuesta. Al tratarse de una redirección, veremos como
el primer parametro <code class="language-plaintext highlighter-rouge">HTTP/1.1</code> nos reporta el código de estado <code class="language-plaintext highlighter-rouge">302 Found</code>. Para anular la
redirección debemos cambiar este parámetro por el de <code class="language-plaintext highlighter-rouge">200 OK</code>.</p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480138-38ffa0f7-586f-466b-aa47-8b4d2a0ffc67.png" alt="Captura de pantalla -2022-10-03 00-14-38" /></p>

<p>Finalmente aplicamos un <code class="language-plaintext highlighter-rouge">Forward</code> y veremos como en el navegador se nos despliega una página
diferente.</p>

<p>Vamos a tratar de mostrar un ejemplo utilizando la máquina Previse de Hack The Box.</p>

<p><a name="item9"></a></p>
<h2 id="ejemplo">Ejemplo: Capturar, redirigir y evitar redirect.</h2>

<p>En la siguiente demostración, utilizaremos la máquina Previse de Hack The Box para tratar de mostrar
como una página que nos redirige con un código de estado 302 a una página, nos puede redirigir a 
otra evitando ese redirect y cambiandolo por un código de estado 200.</p>

<p>En primer lugar, vamos a listar con <code class="language-plaintext highlighter-rouge">Wfuzz</code> los ditintos archivos alojados en el servidor para
ver el código de estado de cada archivo:</p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480048-7fbd2ad8-c545-4452-b60f-1b0497e341a1.png" alt="Captura de pantalla -2022-10-02 20-06-45" /></p>

<p>Para este ejemplo vamos a utilizar dos de los archivos aquí expuestos, podemos ver como el payload 
<code class="language-plaintext highlighter-rouge">status</code> nos devuelve un código de estado <code class="language-plaintext highlighter-rouge">302</code> y al introducirlo en el navegador nos redirige
al payload <code class="language-plaintext highlighter-rouge">login</code> que si tiene un código de estado <code class="language-plaintext highlighter-rouge">200</code> y nos reporta una página de registro.</p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480093-0eaf88cc-c3f7-471a-8bb5-ded62b22560b.png" alt="Captura de pantalla -2022-10-03 00-58-34" /></p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480099-2098e0bb-dcf5-48fd-beb0-1f2ca8d6a094.png" alt="Captura de pantalla -2022-10-03 00-58-09" /></p>

<p>Abrimos <code class="language-plaintext highlighter-rouge">Burpsuite</code>, configuramos <code class="language-plaintext highlighter-rouge">Foxyproxy</code> y realizamos una captura de la ruta 
<code class="language-plaintext highlighter-rouge">http://10.10.11.104/status.php</code>:</p>

<p><img class="img-burpsuite1" src="https://user-images.githubusercontent.com/103068924/193480114-79f3d051-c761-46cf-944f-e78ca917f0e0.png" alt="Captura de pantalla -2022-10-03 00-13-41" /></p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480129-b2160fff-a551-4008-a343-c3d60efb953c.png" alt="Captura de pantalla -2022-10-03 00-14-17" /></p>

<p>Ahora aplicamos un <code class="language-plaintext highlighter-rouge">Fordward</code> para capturar la respuesta del servidor y veremos como arriba de todo nos
muestra el código de estado, en este caso un <code class="language-plaintext highlighter-rouge">302 Found</code>:</p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480154-681bb28b-75b5-4262-9148-3948cf7ae6bb.png" alt="Captura de pantalla -2022-10-03 00-15-46" /></p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480160-606c0fcd-8bb9-44ae-aca7-9c3b862f3833.png" alt="Captura de pantalla -2022-10-03 00-16-12" /></p>

<p>Cambiamos el código de estado por un <code class="language-plaintext highlighter-rouge">200 OK</code>:</p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480165-aa24ec95-5c9a-4377-96cf-dc1e0742b3a4.png" alt="Captura de pantalla -2022-10-03 00-16-48" /></p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480172-bf71c479-8abd-43c5-9428-d22f0ac23534.png" alt="Captura de pantalla -2022-10-03 00-17-02" /></p>

<p>Y realizamos un nuevo <code class="language-plaintext highlighter-rouge">Forward</code> para enviar la petición módificada y ver la nueva página forzando el código de estado 200 OK:</p>

<p><img class="img-burpsuite1" src="https://user-images.githubusercontent.com/103068924/193480183-d9684f64-381a-41ab-bae9-5f52d8081ac3.png" alt="Captura de pantalla -2022-10-03 00-17-38" /></p>

<p>Vemos como ya no nos reporta la página de registro, ahora nos muestra una página de información
con el título <code class="language-plaintext highlighter-rouge">Status</code>.</p>

<p><img src="https://user-images.githubusercontent.com/103068924/193480200-bb7748cc-d418-4b07-9278-f3f0085e2e65.png" alt="Captura de pantalla -2022-10-03 01-02-06" /></p>




<!----------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------->
<!---------------------------- Fin del contenido de la Página ----------------------------->  
<!----------------------------------------------------------------------------------------->
<!----------------------------------------------------------------------------------------->


<!----------------------------------  Menu lateral  --------------------------------------->

<body id="body">
    
<div class="icon__menu">
<i class="fas fa-bars" id="btn_open"></i>
</div>

<div class="menu__side" id="menu_side">

<!--- Botón Youtube --- 
<div class="name__page">
<i class="fab fa-youtube"></i>
<h4>F1r0x</h4>
</div>
-->

<div class="options__menu">	

<a href="../portada.html" class="selected">
<div class="option">
<i class="fas fa-home" title="Inicio"></i>
<h4>Inicio</h4>
</div>
</a>

<a href="./articulos.html">
<div class="option">
<i class="far fa-file" title="Artículos"></i>
<h4>Artículos</h4>
</div>
</a>
            
<a href="./cursos.html">
<div class="option">
<i class="fas fa-video" title="Cursos"></i>
<h4>Cursos</h4>
</div>
</a>

<a href="./hackthebox.html">
<div class="option">
<i class="far fa-sticky-note" title="Hack the Box"></i>
<h4>HTB</h4>
</div>
</a>

<a href="./contacto.html">
<div class="option">
<i class="far fa-id-badge" title="Contacto"></i>
<h4>Contacto</h4>
</div>
</a>

<a href="./referencias.html">
<div class="option">
<i class="far fa-address-card" title="Referencias"></i>
<h4>Referencias</h4>
</div>
</a>

</div>

</div>

<script src="../js/script.js"></script>  <!-- Archivo Java para el menú lateral responsive -->
</body>

<!-------------------------------------  Gestor de Comentrarios  ---------------------------------->

<html lang="en">
  <div id="comentarios">
    <body>
      <script src="https://utteranc.es/client.js" repo="F1r0x/gestion-comentarios" issue-term="pathname" theme="github-light" crossorigin="anonymous" async="">
      </script>         
    </body>
  </div>
</html>

<!-------------------------------------------------------------------------------------------------->

    </div>
</html>

<!------------------------------------------------------------------------------------------------->
<!------------------------------------------------------------------------------------------------->